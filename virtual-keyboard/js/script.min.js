import{Keyboard}from"./modules/keyboard.js";import{Textarea}from"./modules/textarea.js";const keyboard=new Keyboard({mainClass:"main",wrapperClass:"keyboard"}),textarea=new Textarea({className:"textarea"});keyboard.createKeyboard(),keyboard.displayKeyboard(),textarea.displayTextarea(),document.addEventListener("keydown",(e=>{e.preventDefault(),"ShiftLeft"===e.code&&keyboard.shiftLeftPress(),e.getModifierState("CapsLock")&&keyboard.switchCaps(!0),keyboard.shortcutPress(e),keyboard.hangClass(e),keyboard.displayText(e)})),document.addEventListener("keyup",(e=>{e.getModifierState("CapsLock")||"CapsLock"!==e.code||keyboard.switchCaps(!1),"ShiftLeft"===e.code&&keyboard.shiftLeftUnpress(),keyboard.removeClass(e.code)})),document.addEventListener("mousedown",(e=>{let t=JSON.parse(localStorage.getItem("language"))||!1;"CapsLock"===e.target.dataset.eventCode&&e.target.classList.contains("active")?(e.target.classList.remove("active"),keyboard.switchCaps(!1,t)):("CapsLock"!==e.target.dataset.eventCode||e.target.classList.contains("active")||keyboard.switchCaps(!0,t),e.target.classList.add("active")),"ShiftLeft"===e.target.dataset.eventCode&&keyboard.shiftLeftPress(e,"active"),keyboard.displayText(e)})),document.addEventListener("mouseup",(e=>{"CapsLock"!==e.target.dataset.eventCode&&(e.target.classList.remove("active"),"ShiftLeft"===e.target.dataset.eventCode&&keyboard.shiftLeftUnpress(e.target.dataset.eventCode))}));