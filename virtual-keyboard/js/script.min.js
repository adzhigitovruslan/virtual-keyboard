import{Keyboard}from"./modules/keyboard.js";import{Textarea}from"./modules/textarea.js";let language,isCapsOn;localStorage.getItem("language")?language=JSON.parse(localStorage.getItem("language")):localStorage.setItem("language",!0),localStorage.getItem("capslock")?isCapsOn=JSON.parse(localStorage.getItem("capslock")):localStorage.setItem("capslock",!1);const keyboard=new Keyboard({mainClass:"main",wrapperClass:"keyboard",language:language,isCapsOn:isCapsOn}),textarea=new Textarea({className:"textarea"});keyboard.createKeyboard(),keyboard.displayKeyboard(),textarea.displayTextarea(),document.addEventListener("keydown",(e=>{e.preventDefault(),keyboard.shiftLeftPress(e.code),keyboard.shortcutPress(e),keyboard.hangClass(e.code),keyboard.displayText(e),"CapsLock"===e.target.dataset.eventCode&&keyboard.switchCaps()})),document.addEventListener("keyup",(e=>{keyboard.shiftLeftUnpress(e.code),keyboard.removeClass(e.code)})),document.addEventListener("mousedown",(e=>{keyboard.displayText(e),console.log(e.target.dataset.eventCode),e.target.classList.contains("row__key")&&e.target.classList.add("active"),keyboard.shiftLeftPress(e.target.dataset.eventCode)})),document.addEventListener("mouseup",(e=>{e.target.classList.contains("row__key")&&e.target.classList.remove("active"),keyboard.shiftLeftUnpress(e.target.dataset.eventCode)}));